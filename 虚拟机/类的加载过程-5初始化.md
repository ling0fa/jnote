[返回目录](../README.md)

### 类的加载过程 - 初始化

- 初始化阶段才真正开始执行 Java 程序代码。
- 初始化阶段是通过执行类构造器 `<clinit>` 方法的过程，`<clinit>` 方法是编译器自动收集类中类变量的**赋值动作**和**静态语句块**中的语句产生的，收集的顺序和源文件中定义的顺序一致。
- `<clinit>` 方法与 `<init>` 方法不同，不需要显示的调用构造函数，虚拟机会保证子类的 `<clinit>` 方法执行前，父类的 `<clinit>` 方法已经执行完毕。所以第一个执行完 `<clinit>` 方法的肯定是 `Object`。所以父类的 `static` 语句块比子类的 `static` 语句块先执行。
- `<clinit>` 是非必须的，当没有类变量赋值，没有静态语句块，就不会生成这个方法。
- 接口没有 `static` 语句块，但有赋值语句，也会生成 `<clinit>`方法。但只有使用了父接口的变量时才会去初始化父接口。另外，接口的实现类也不会执行接口的 `<clinit>` 方法（因为都是常量）。
- 虚拟机会保证一个类的 `<clinit>` 方法在多线程可以被正确的加锁、同步。


